---
import type { CollectionEntry } from "astro:content";

import BaseLayout from "../BaseLayout.astro";

interface Props {
  posts: CollectionEntry<"blog">[];
}

const { posts } = Astro.props;
---

<BaseLayout title="博客">
  <h1 class="text-3xl font-bold text-center">博客</h1>
  <section class="flex flex-col gap-8">
    {
      posts.map((post) => (
        <article class="group flex flex-col shadow-md p-6 rounded-lg bg-white dark:bg-gray-800 hover:shadow-lg transition-shadow duration-300">
          <header>
            <div class="flex flex-col justify-center gap-2 p-2">
              <header class="flex flex-wrap gap-2">
                {post.data.tags &&
                  post.data.tags.map((tag) => (
                    <a
                      class="inline-block bg-pink text-sm px-4 py-2 rounded-md text-white hover:text-white transition-colors duration-300"
                      href="#"
                    >
                      {tag}
                    </a>
                  ))}
              </header>
              <div>
                <a href={`/blog/${post.slug}`} class="text-2xl font-bold">
                  {post.data.title}
                </a>
                <p class="text-lg text-gray-400 group-hover:text-gray-900 transition-colors duration-300">
                  {post.data.description}
                </p>
              </div>
              <footer>
                <div class="inline-flex items-center gap-2">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="size-5 stroke-4/3 shrink-0 stroke-gray-600"
                    width="56"
                    height="56"
                    viewBox="0 0 24 24"
                    stroke-width="2"
                    stroke="currentColor"
                    fill="none"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path stroke="none" d="M0 0h24v24H0z" />
                    <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
                    <circle cx="18" cy="18" r="4" />
                    <path d="M15 3v4" />
                    <path d="M7 3v4" />
                    <path d="M3 11h16" />
                    <path d="M18 16.496v1.504l1 1" />
                  </svg>
                  <time class="text-gray-600">{post.data.pubDate}</time>
                </div>
              </footer>
            </div>
          </header>
        </article>
      ))
    }
  </section>
</BaseLayout>
